<section id="registroMedidas" class="col-xs-12  col-sm-8 col-sm-offset-2 col-md-8 col-md-offset-2">

  <form name="frmRegMedicion" ng-submit="ctrl.save(ctrl.user)" novalidate autocomplete="off">

    <h2>Información General</h2>
    <hr>

    <label>Identificación:</label>
    <input class="form-control" type="text" ng-model="ctrl.user.id" name="id" ng-minlength="7" ng-maxlength="9" required>
    <div ng-messages="frmRegMedicion.id.$error">
      <div ng-messages-include="components/includes/messages.html"></div>
    </div>

    <label for="">Fecha:</label>
    <input class="form-control" type="date" ng-model="ctrl.user.fecha" name="fecha" required>
    <div ng-messages="frmRegMedicion.fecha.$error">
      <div ng-messages-include="components/includes/messages.html"></div>
    </div>


    <div class="row col-xs-12">
      <h2>Cálculo IMC</h2>
      <hr>

      <label>Peso:</label>
      <input class="form-control"  type="number" ng-model="ctrl.user.peso" name="peso" min="1" required/>
      <div ng-messages="frmRegMedicion.peso.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div>

      <label>Estatura:</label>
      <input class="form-control" type="number" ng-model="ctrl.user.estatura" name="estatura" min="1" required />
      <div ng-messages="frmRegMedicion.estatura.$error">
        <div ng-messages-include="components/includes/messages.html"></div>
      </div>
    </div>


    <div class="row col-xs-12">
      <div class="col-xs-6">
        <h2>Perímetros(cm)</h2>
        <hr>

        <div class="row">
          <label class="col-xs-4" for="">Bíceps:</label>
          <input class="col-xs-4" type="number" ng-model="ctrl.user.bicepIzquierdo" name="bicepIzquierdo" placeholder="Izquierdo" min="1" required>
          <div ng-messages="frmRegMedicion.bicepIzquierdo.$error">
            <div ng-messages-include="components/includes/messages.html"></div>
          </div>

          <input class="col-xs-4" type="number" ng-model="ctrl.user.bicepDerecho" name="bicepDerecho" placeholder="Derecho" min="1" required>
          <div ng-messages="frmRegMedicion.bicepDerecho.$error">
            <div ng-messages-include="components/includes/messages.html"></div>
          </div>
        </div>


        <div class="row">
          <label class="col-xs-4" for="">Bíceps contraído:</label>
          <input class="col-xs-4" type="number" ng-model="ctrl.user.bicepContraidoIzq" name="bicepContraidoIzq" placeholder="Izquierdo" min="1" required>
          <div ng-messages="frmRegMedicion.bicepContraidoIzq.$error">
            <div ng-messages-include="components/includes/messages.html"></div>
          </div>

          <input class="col-xs-4" type="number" ng-model="ctrl.user.bicepContraidoDer" name="bicepContraidoDer" placeholder="Derecho" min="1" required>
          <div ng-messages="frmRegMedicion.bicepContraidoDer.$error">
            <div ng-messages-include="components/includes/messages.html"></div>
          </div>
        </div>

        <div class="row">
          <label class="col-xs-4" for="">Pantorrilla:</label>
          <input  class="col-xs-4" type="number" ng-model="ctrl.user.pantorrillaIzq" name="pantorrillaIzq" placeholder="Izquierdo" min="1" required>
          <div ng-messages="frmRegMedicion.pantorrillaIzq.$error">
            <div ng-messages-include="components/includes/messages.html"></div>
          </div>

          <input class="col-xs-4" type="number" ng-model="ctrl.user.pantorrillaDer" name="pantorrillaDer" placeholder="Derecho" min="1" required>
          <div ng-messages="frmRegMedicion.pantorrillaDer.$error">
            <div ng-messages-include="components/includes/messages.html"></div>
          </div>
        </div>

        <div class="row">

          <label class="col-xs-4" for="">Muslo:</label>
          <input class="col-xs-4" type="number" ng-model="ctrl.user.musloIzq" name="musloIzq" placeholder="Izquierdo" min="1" required>
          <div ng-messages="frmRegMedicion.musloIzq.$error">
            <div ng-messages-include="components/includes/messages.html"></div>
          </div>

          <input class="col-xs-4" type="number" ng-model="ctrl.user.musloDer" name="musloDer" placeholder="Derecho" min="1"  required>
          <div ng-messages="frmRegMedicion.musloDer.$error">
            <div ng-messages-include="components/includes/messages.html"></div>
          </div>

        </div>


        <h2>Medidas únicas</h2>
        <hr>

        <label class="col-xs-4" for="">Cintura:</label>
        <input class="col-xs-8" type="number" ng-model="ctrl.user.cintura" name="cintura" min="1" required>
        <div ng-messages="frmRegMedicion.cintura.$error">
          <div ng-messages-include="components/includes/messages.html"></div>
        </div>


        <label class="col-xs-4" for="">Abdomen:</label>
        <input class="col-xs-8"type="number" ng-model="ctrl.user.abdomen" name="abdomen" min="1" required>
        <div ng-messages="frmRegMedicion.abdomen.$error">
          <div ng-messages-include="components/includes/messages.html"></div>
        </div>


        <label class="col-xs-4" for="">Cadera:</label>
        <input class="col-xs-8" type="number" ng-model="ctrl.user.cadera" name="cadera" min="1" required>
        <div ng-messages="frmRegMedicion.cadera.$error">
          <div ng-messages-include="components/includes/messages.html"></div>
        </div>

        <label class="col-xs-4" for="">Pecho:</label>
        <input class="col-xs-8" type="number" ng-model="ctrl.user.pecho" name="pecho" min="1" required>
        <div ng-messages="frmRegMedicion.pecho.$error">
          <div ng-messages-include="components/includes/messages.html"></div>
        </div>


        <label class="col-xs-4" for="">Espalda:</label>
        <input class="col-xs-8" type="number" ng-model="ctrl.user.espalda" name="espalda" min="1" required>
        <div ng-messages="frmRegMedicion.espalda.$error">
          <div ng-messages-include="components/includes/messages.html"></div>
        </div>
      </div>

      <div class="col-xs-6">
          <h2>Pliegues(mm)</h2>
          <hr>


          <label class="col-xs-4" for="">Tríceps:</label>
          <input class="col-xs-4" type="number" ng-model="ctrl.user.tricepIzq" name="tricepIzq" min="1" placeholder="Izquierdo"  required>
          <div ng-messages="frmRegMedicion.tricepIzq.$error">
            <div ng-messages-include="components/includes/messages.html"></div>
          </div>


          <input class="col-xs-4" type="number" ng-model="ctrl.user.tricepDer" name="tricepDer" min="1" placeholder="Derecho"  required>
          <div ng-messages="frmRegMedicion.tricepDer.$error">
            <div ng-messages-include="components/includes/messages.html"></div>
          </div>


          <label class="col-xs-4" for="">Subescapular:</label>
          <input class="col-xs-4" type="number" ng-model="ctrl.user.subescapularIzq" name="subescapularIzq" min="1" placeholder="Izquierdo"  required>
          <div ng-messages="frmRegMedicion.subescapularIzq.$error">
            <div ng-messages-include="components/includes/messages.html"></div>
          </div>


          <input class="col-xs-4" type="number" ng-model="ctrl.user.subescapularDer" name="subescapularDer" min="1" placeholder="Derecho"  required>
          <div ng-messages="frmRegMedicion.subescapularDer.$error">
            <div ng-messages-include="components/includes/messages.html"></div>
          </div>


          <label class="col-xs-4" for="">Supraespinal:</label>
          <input class="col-xs-4" type="number" ng-model="ctrl.user.supraespinalIzq" name="supraespinalIzq" min="1" placeholder="Izquierdo"  required>
          <div ng-messages="frmRegMedicion.supraespinalIzq.$error">
            <div ng-messages-include="components/includes/messages.html"></div>
          </div>


          <input class="col-xs-4" type="number" ng-model="ctrl.user.supraespinalDer" name="supraespinalDer" min="1" placeholder="Derecho"  required>
          <div ng-messages="frmRegMedicion.supraespinalDer.$error">
            <div ng-messages-include="components/includes/messages.html"></div>
          </div>


          <label class="col-xs-4" for="">Abdominal:</label>
          <input class="col-xs-4" type="number" ng-model="ctrl.user.abdominalIzq" name="abdominalIzq" min="1" placeholder="Izquierdo"  required>
          <div ng-messages="frmRegMedicion.abdominalIzq.$error">
            <div ng-messages-include="components/includes/messages.html"></div>
          </div>


          <input class="col-xs-4" type="number" ng-model="ctrl.user.abdominalDer" name="abdominalDer" min="1" placeholder="Derecho"  required>
          <div ng-messages="frmRegMedicion.abdominalDer.$error">
            <div ng-messages-include="components/includes/messages.html"></div>
          </div>


          <label class="col-xs-4" for="">Muslo:</label>
          <input class="col-xs-4" type="number" ng-model="ctrl.user.musloIzqPliegue" name="musloIzqPliegue" min="1" placeholder="Izquierdo"  required>
          <div ng-messages="frmRegMedicion.musloIzqPliegue.$error">
            <div ng-messages-include="components/includes/messages.html"></div>
          </div>


          <input class="col-xs-4" type="number" ng-model="ctrl.user.musloDerPliegue" name="musloDerPliegue" min="1" placeholder="Derecho"  required>
          <div ng-messages="frmRegMedicion.musloDerPliegue.$error">
            <div ng-messages-include="components/includes/messages.html"></div>
          </div>


          <label class="col-xs-4" for="">Pantorrilla:</label>
          <input class="col-xs-4" type="number" ng-model="ctrl.user.pantorrillaIzqPliegue" name="pantorrillaIzqPliegue"  min="1" placeholder="Izquierdo"  required>
          <div ng-messages="frmRegMedicion.pantorrillaIzqPliegue.$error">
            <div ng-messages-include="components/includes/messages.html"></div>
          </div>


          <input class="col-xs-4" type="number" ng-model="ctrl.user.pantorrillaDerPliegue" name="pantorrillaDerPliegue"  min="1" placeholder="Derecho"  required>
          <div ng-messages="frmRegMedicion.pantorrillaDerPliegue.$error">
            <div ng-messages-include="components/includes/messages.html"></div>
          </div>

        </div>

        <div class="row col-xs-offset-3 col-xs-9 ">
          <button class="btn btn-warning  col-xs-3 botones" type="submit" ng-click="ctrl.reset()" ng-disabled="frmRegMedicion.$invalid">Registrar</button>
          <input class="btn btn-warning col-xs-offset-1 col-xs-3 botones" type="button" value="Actualizar" ng-click="ctrl.update(user)">
        </div>

      </div>
    </form>
    
  <h2>Mostrar información por fecha</h2>
  <hr>


  <input ng-model="from" name="from" type="date"/>
  <input ng-model="ctrl.to" name="to" type="date"/>


  <table class="table-responsive table-condensed">
    <thead>
      <tr>
        <th>Identificación</th>
        <th>Fecha</th>
        <th>Peso</th>
        <th>Estatura</th>
        <th>Resultado de IMC</th>
        <th>Bícep izquierdo</th>
        <th>Bícep derecho</th>
        <th>Bícep contraído izquierdo</th>
        <th>Bícep contraído derecho</th>
        <th>Pantorrilla izquierda</th>
        <th>Pantorrilla derecha</th>
        <th>Muslo izquierdo</th>
        <th>Muslo derecho</th>
        <th>Cintura</th>
        <th>Abdomen</th>
        <th>Cadera</th>
        <th>Pecho</th>
        <th>Espalda</th>
        <th>Tríceps izquierda</th>
        <th>Tríceps derecho</th>
        <th>Subescapular derecho</th>
        <th>Subescapular izquierdo</th>
        <th>Supraespinal derecho</th>
        <th>Supraespinal izquierdo</th>
        <th>Abdominal derecho</th>
        <th>Abdominal izquierdo</th>
        <th>Muslo izquierdo</th>
        <th>Muslo derecho</th>
        <th>Pantorrilla izquierda</th>
        <th>Pantorrilla derecha</th>
      </tr>
    </thead>

    <tbody>
      <tr ng-repeat="user in ctrl.users | dateRange:from:ctrl.to">
          <td>{{user.id}}</td>
          <td>{{user.fecha | date:'yyyy-MM-dd'}}</td>
          <td>{{user.peso}} kg</td>
          <td>{{user.estatura}} m</td>
          <td>{{user.peso / (user.estatura * user.estatura) | number}}</td>
          <td>{{user.bicepIzquierdo}}</td>
          <td>{{user.bicepDerecho}}</td>
          <td>{{user.bicepContraidoIzq}}</td>
          <td>{{user.bicepContraidoDer}}</td>
          <td>{{user.pantorrillaIzq}}</td>
          <td>{{user.pantorrillaDer}}</td>
          <td>{{user.musloIzq}}</td>
          <td>{{user.musloDer}}</td>
          <td>{{user.cintura}}</td>
          <td>{{user.abdomen}}</td>
          <td>{{user.cadera}}</td>
          <td>{{user.pecho}}</td>
          <td>{{user.espalda}}</td>
          <td>{{user.tricepIzq}}</td>
          <td>{{user.tricepDer}}</td>
          <td>{{user.subescapularIzq}}</td>
          <td>{{user.subescapularDer}}</td>
          <td>{{user.supraespinalIzq}}</td>
          <td>{{user.supraespinalDer}}</td>
          <td>{{user.abdominalIzq}}</td>
          <td>{{user.abdominalDer}}</td>
          <td>{{user.musloIzqPliegue}}</td>
          <td>{{user.musloDerPliegue}}</td>
          <td>{{user.pantorrillaIzqPliegue}}</td>
          <td>{{user.pantorrillaIzqPliegue}}</td>
          <td><input type="button" value="Editar" ng-click="ctrl.getInfo(user)"></td>
      </tr>
    </tbody>
  </table>
</section>
